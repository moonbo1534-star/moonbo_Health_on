// ===== 운동 설명 데이터 =====
const EXERCISE_INSTRUCTIONS = {
    // ===== 등 운동 =====
    '랫 풀다운': {
        target: '광배근, 승모근 하부',
        instruction: '1. 어깨너비보다 넓게 바를 잡습니다.\n2. 가슴을 들고 어깨를 뒤로 당깁니다.\n3. 바를 가슴 위쪽으로 당기면서 팔꿈치를 옆구리 쪽으로 모읍니다.\n4. 천천히 원위치로 돌아갑니다.',
        tips: '반동을 사용하지 말고 등 근육의 수축에 집중하세요.'
    },
    '바벨 로우': {
        target: '광배근, 승모근, 후면 삼각근',
        instruction: '1. 발을 어깨너비로 벌리고 바벨을 잡습니다.\n2. 상체를 45도 정도로 숙이고 허리를 곧게 유지합니다.\n3. 바벨을 배꼽 쪽으로 당깁니다.\n4. 견갑골을 모으며 등을 수축합니다.',
        tips: '허리가 굽지 않도록 복압을 유지하세요.'
    },
    '원암 덤벨 로우': {
        target: '광배근, 능형근',
        instruction: '1. 벤치에 한 손과 한 무릎을 올립니다.\n2. 반대 손으로 덤벨을 잡고 팔을 늘어뜨립니다.\n3. 덤벨을 엉덩이 쪽으로 당기며 등을 수축합니다.\n4. 천천히 내려놓습니다.',
        tips: '몸통이 회전하지 않도록 고정하세요.'
    },
    '맥그립 랫 풀다운': {
        target: '광배근, 대원근',
        instruction: '1. 중립 그립(손바닥이 마주보게)으로 손잡이를 잡습니다.\n2. 가슴을 펴고 바를 가슴까지 당깁니다.\n3. 팔꿈치를 옆구리에 붙이듯이 당깁니다.\n4. 천천히 저항하며 올립니다.',
        tips: '손목에 부담이 적어 초보자에게 적합합니다.'
    },
    '언더그립 랫 풀다운': {
        target: '광배근, 이두근',
        instruction: '1. 손바닥이 나를 향하게(언더그립) 바를 잡습니다.\n2. 어깨를 내리고 가슴을 들어올립니다.\n3. 바를 쇄골 아래까지 당깁니다.\n4. 이두근과 등 근육 동시에 사용합니다.',
        tips: '이두근 개입이 많아 등과 팔을 동시에 운동할 수 있습니다.'
    },
    '케이블 암 풀 다운': {
        target: '광배근',
        instruction: '1. 케이블 앞에 서서 팔을 머리 위로 뻗습니다.\n2. 팔을 거의 펴고 손잡이를 잡습니다.\n3. 팔을 펴고 유지하며 허벅지까지 당깁니다.\n4. 광배근 수축을 느끼며 천천히 돌아갑니다.',
        tips: '팔꿈치를 살짝만 구부려 광배근에 집중하세요.'
    },
    '비하인드 넥 풀다운': {
        target: '광배근 상부, 후면 삼각근',
        instruction: '1. 바를 넓게 잡고 머리 뒤로 당깁니다.\n2. 목 뒤쪽으로 바를 내립니다.\n3. 견갑골을 모으며 등을 수축합니다.\n4. 천천히 원위치로 돌아갑니다.',
        tips: '어깨 유연성이 부족하면 무리하지 마세요.'
    },
    '시티드 케이블 로우': {
        target: '광배근, 능형근, 승모근',
        instruction: '1. 케이블 머신에 앉아 발을 발판에 고정합니다.\n2. 손잡이를 잡고 허리를 곧게 폅니다.\n3. 손잡이를 배꼽 쪽으로 당깁니다.\n4. 견갑골을 모으며 등을 수축합니다.',
        tips: '상체가 앞뒤로 흔들리지 않게 유지하세요.'
    },
    '스탠딩 케이블 로우': {
        target: '광배근, 승모근, 후면 삼각근',
        instruction: '1. 케이블 앞에 서서 손잡이를 잡습니다.\n2. 무릎을 살짝 구부리고 상체를 약간 숙입니다.\n3. 손잡이를 배꼽 쪽으로 당깁니다.\n4. 등 근육을 조이며 잠시 멈춥니다.',
        tips: '코어에 힘을 주어 균형을 유지하세요.'
    },
    '클로즈 그립 랫 풀다운': {
        target: '광배근 하부, 이두근',
        instruction: '1. 좁은 V자 손잡이를 잡습니다.\n2. 가슴을 펴고 바를 가슴까지 당깁니다.\n3. 팔꿈치를 몸 옆에 붙여 당깁니다.\n4. 천천히 저항하며 올립니다.',
        tips: '광배근 하부를 집중 자극할 수 있습니다.'
    },
    '풀업': {
        target: '광배근, 대원근, 이두근',
        instruction: '1. 바를 어깨너비보다 넓게 잡습니다.\n2. 몸을 들어올려 턱이 바 위로 오게 합니다.\n3. 견갑골을 내리며 등 근육으로 당깁니다.\n4. 천천히 내려옵니다.',
        tips: '어려우면 어시스트 머신이나 밴드를 사용하세요.'
    },
    '데드리프트': {
        target: '척추기립근, 광배근, 햄스트링, 둔근',
        instruction: '1. 발을 어깨너비로 벌리고 바벨 앞에 섭니다.\n2. 엉덩이를 뒤로 빼며 바벨을 잡습니다.\n3. 허리를 곧게 유지하며 일어섭니다.\n4. 천천히 엉덩이를 뒤로 빼며 내립니다.',
        tips: '복압을 유지하고 허리가 굽지 않게 하세요.'
    },
    '티바 로우': {
        target: '광배근, 승모근, 능형근',
        instruction: '1. 티바 머신에 서서 손잡이를 잡습니다.\n2. 상체를 45도로 숙이고 허리를 곧게 유지합니다.\n3. 바를 가슴 쪽으로 당깁니다.\n4. 견갑골을 모으며 등을 수축합니다.',
        tips: '등 중앙 근육을 깊게 수축시킬 수 있습니다.'
    },

    // ===== 가슴 운동 =====
    '벤치프레스': {
        target: '대흉근, 전면 삼각근, 삼두근',
        instruction: '1. 벤치에 누워 발을 바닥에 고정합니다.\n2. 어깨너비보다 넓게 바를 잡습니다.\n3. 바를 가슴까지 내린 후 밀어올립니다.\n4. 팔꿈치가 45도 정도 되게 유지합니다.',
        tips: '가슴을 펴고 견갑골을 모아 아치를 만드세요.'
    },
    '덤벨 벤치프레스': {
        target: '대흉근, 전면 삼각근',
        instruction: '1. 덤벨을 들고 벤치에 눕습니다.\n2. 덤벨을 가슴 양옆에 위치시킵니다.\n3. 덤벨을 위로 밀어올리며 수축합니다.\n4. 천천히 내리며 가슴을 늘입니다.',
        tips: '바벨보다 가동범위가 넓어 가슴 스트레칭에 좋습니다.'
    },
    '딥스': {
        target: '하부 대흉근, 삼두근',
        instruction: '1. 딥스 바를 잡고 몸을 들어올립니다.\n2. 상체를 앞으로 살짝 기울입니다.\n3. 팔꿈치를 굽혀 몸을 내립니다.\n4. 가슴 근육으로 밀어올립니다.',
        tips: '몸을 앞으로 기울일수록 가슴 자극이 증가합니다.'
    },
    '덤벨 플라이': {
        target: '대흉근 내측',
        instruction: '1. 덤벨을 들고 벤치에 눕습니다.\n2. 팔을 양옆으로 벌려 가슴을 늘입니다.\n3. 팔꿈치를 살짝 굽힌 채 유지합니다.\n4. 가슴 근육으로 덤벨을 모읍니다.',
        tips: '팔꿈치 각도를 일정하게 유지하세요.'
    },
    '푸시업': {
        target: '대흉근, 삼두근, 전면 삼각근',
        instruction: '1. 손을 어깨너비보다 넓게 바닥에 짚습니다.\n2. 몸을 일자로 유지합니다.\n3. 팔꿈치를 굽혀 몸을 내립니다.\n4. 가슴이 바닥에 닿기 직전에 밀어올립니다.',
        tips: '복부에 힘을 주어 허리가 꺾이지 않게 하세요.'
    },
    '체스트 프레스 머신': {
        target: '대흉근, 삼두근',
        instruction: '1. 머신에 앉아 등을 패드에 붙입니다.\n2. 손잡이를 가슴 높이에 맞춥니다.\n3. 손잡이를 앞으로 밀어냅니다.\n4. 천천히 저항하며 돌아옵니다.',
        tips: '안정적으로 고중량 운동이 가능합니다.'
    },
    '인클라인 벤치 프레스 머신': {
        target: '상부 대흉근, 전면 삼각근',
        instruction: '1. 인클라인 머신에 앉습니다.\n2. 손잡이를 잡고 위쪽으로 밀어올립니다.\n3. 팔꿈치를 완전히 펴지 않고 멈춥니다.\n4. 천천히 내립니다.',
        tips: '윗가슴 발달에 효과적입니다.'
    },
    '체스트 플라이 머신': {
        target: '대흉근 내측',
        instruction: '1. 머신에 앉아 팔을 패드에 댑니다.\n2. 팔을 모아 가슴 앞에서 만납니다.\n3. 가슴 근육을 조이며 잠시 유지합니다.\n4. 천천히 팔을 벌립니다.',
        tips: '가슴 라인을 모아주는 데 효과적입니다.'
    },
    '케이블 크로스오버': {
        target: '대흉근 내측, 하부',
        instruction: '1. 케이블 양쪽 손잡이를 잡습니다.\n2. 한 발을 앞으로 내딛습니다.\n3. 팔을 모아 배꼽 앞에서 교차합니다.\n4. 천천히 팔을 벌립니다.',
        tips: '가슴 안쪽 근육을 집중 자극할 수 있습니다.'
    },
    '인클라인 덤벨 프레스': {
        target: '상부 대흉근',
        instruction: '1. 인클라인 벤치에 눕습니다 (30-45도).\n2. 덤벨을 가슴 양옆에 위치시킵니다.\n3. 덤벨을 위로 밀어올립니다.\n4. 천천히 내리며 가슴을 늘입니다.',
        tips: '윗가슴 발달에 최적의 운동입니다.'
    },

    // ===== 팔 운동 (이두/삼두) =====
    '인클라인 덤벨 프론트 레이즈': {
        target: '전면 삼각근',
        instruction: '1. 인클라인 벤치에 앉습니다.\n2. 덤벨을 양 옆에 들고 있습니다.\n3. 팔을 앞으로 들어올립니다.\n4. 어깨 높이까지 올린 후 내립니다.',
        tips: '반동 없이 천천히 올리세요.'
    },
    '바벨 컬': {
        target: '이두근',
        instruction: '1. 어깨너비로 바벨을 잡습니다.\n2. 팔꿈치를 몸통에 고정합니다.\n3. 바벨을 어깨 쪽으로 올립니다.\n4. 이두를 조이며 천천히 내립니다.',
        tips: '팔꿈치가 앞으로 나오지 않게 고정하세요.'
    },
    '덤벨 컬': {
        target: '이두근',
        instruction: '1. 덤벨을 양손에 들고 섭니다.\n2. 한 팔씩 또는 동시에 올립니다.\n3. 손바닥이 위를 향하게 회전합니다.\n4. 이두를 조이며 천천히 내립니다.',
        tips: '좌우 불균형을 교정할 수 있습니다.'
    },
    '케이블 컬': {
        target: '이두근',
        instruction: '1. 케이블 손잡이를 잡습니다.\n2. 팔꿈치를 몸통에 고정합니다.\n3. 손잡이를 어깨 쪽으로 당깁니다.\n4. 지속적인 텐션을 유지합니다.',
        tips: '전 가동범위에서 일정한 저항을 받습니다.'
    },
    '덤벨 킥백': {
        target: '삼두근',
        instruction: '1. 벤치에 한 손과 무릎을 올립니다.\n2. 상체를 수평으로 유지합니다.\n3. 팔꿈치를 고정하고 팔을 뒤로 뻗습니다.\n4. 삼두를 조이며 천천히 굽힙니다.',
        tips: '팔꿈치 위치를 고정하세요.'
    },
    '케이블 푸시다운': {
        target: '삼두근',
        instruction: '1. 케이블 바를 어깨너비로 잡습니다.\n2. 팔꿈치를 몸통에 붙입니다.\n3. 바를 아래로 밀어내립니다.\n4. 삼두를 조이며 천천히 올립니다.',
        tips: '팔꿈치가 움직이지 않게 고정하세요.'
    },
    '덤벨 프리쳐 컬': {
        target: '이두근 (특히 단두)',
        instruction: '1. 프리쳐 벤치에 팔을 올립니다.\n2. 덤벨을 잡고 팔을 늘어뜨립니다.\n3. 덤벨을 어깨 쪽으로 올립니다.\n4. 이두를 조이며 천천히 내립니다.',
        tips: '이두근을 고립시켜 집중 자극합니다.'
    },
    '바벨 프리쳐 컬': {
        target: '이두근',
        instruction: '1. 프리쳐 벤치에 팔을 올립니다.\n2. EZ바 또는 바벨을 잡습니다.\n3. 바를 어깨 쪽으로 올립니다.\n4. 천천히 내리며 이두를 늘입니다.',
        tips: '손목 부담을 줄이려면 EZ바를 사용하세요.'
    },
    '케이블 해머 컬': {
        target: '상완근, 이두근 외측',
        instruction: '1. 로프 손잡이를 잡습니다.\n2. 손바닥이 마주보게 유지합니다.\n3. 팔꿈치를 고정하고 당깁니다.\n4. 상완근을 조이며 천천히 내립니다.',
        tips: '팔의 전체적인 두께감을 키워줍니다.'
    },
    '케이블 로프 푸시다운': {
        target: '삼두근 (외측두)',
        instruction: '1. 로프 손잡이를 잡습니다.\n2. 팔꿈치를 몸통에 붙입니다.\n3. 로프를 아래로 밀며 양 옆으로 벌립니다.\n4. 삼두를 조이며 천천히 올립니다.',
        tips: '로프를 벌리며 삼두 분리도를 높입니다.'
    },
    '컨센트레이션 컬': {
        target: '이두근 피크',
        instruction: '1. 벤치에 앉아 다리를 벌립니다.\n2. 팔꿈치를 허벅지 안쪽에 댑니다.\n3. 덤벨을 어깨 쪽으로 올립니다.\n4. 이두 피크를 조이며 천천히 내립니다.',
        tips: '이두근의 피크(봉우리)를 만드는 데 효과적입니다.'
    },
    '해머 컬': {
        target: '상완근, 이두근',
        instruction: '1. 덤벨을 세로로 잡습니다 (망치 그립).\n2. 팔꿈치를 몸통에 붙입니다.\n3. 덤벨을 어깨 쪽으로 올립니다.\n4. 천천히 내립니다.',
        tips: '이두근 바깥쪽과 상완근 발달에 효과적입니다.'
    },
    '스컬 크러셔': {
        target: '삼두근 전체',
        instruction: '1. 벤치에 누워 바벨을 들어올립니다.\n2. 팔꿈치를 고정하고 이마 쪽으로 내립니다.\n3. 삼두근으로 밀어올립니다.\n4. 팔꿈치가 벌어지지 않게 유지합니다.',
        tips: '삼두근 전체 발달에 매우 효과적입니다.'
    },
    '오버헤드 익스텐션': {
        target: '삼두근 장두',
        instruction: '1. 덤벨을 양손으로 잡고 머리 위로 들어올립니다.\n2. 팔꿈치를 귀 옆에 고정합니다.\n3. 팔꿈치를 굽혀 덤벨을 머리 뒤로 내립니다.\n4. 삼두근으로 밀어올립니다.',
        tips: '삼두근 장두를 집중 자극합니다.'
    },

    // ===== 하체 운동 =====
    '레그 프레스': {
        target: '대퇴사두근, 둔근, 햄스트링',
        instruction: '1. 머신에 앉아 발을 발판에 놓습니다.\n2. 발은 어깨너비로 벌립니다.\n3. 무릎을 굽혀 발판을 내립니다.\n4. 다리를 밀어 발판을 올립니다.',
        tips: '무릎이 완전히 펴지지 않게 주의하세요.'
    },
    '레그 컬': {
        target: '햄스트링',
        instruction: '1. 머신에 엎드려 발목을 패드에 걸칩니다.\n2. 다리를 굽혀 패드를 엉덩이 쪽으로 당깁니다.\n3. 햄스트링을 조이며 잠시 유지합니다.\n4. 천천히 내립니다.',
        tips: '엉덩이가 들리지 않게 유지하세요.'
    },
    '레그 익스텐션': {
        target: '대퇴사두근',
        instruction: '1. 머신에 앉아 발목을 패드에 걸칩니다.\n2. 다리를 완전히 펴며 들어올립니다.\n3. 대퇴사두를 조이며 잠시 유지합니다.\n4. 천천히 내립니다.',
        tips: '상체가 뒤로 젖혀지지 않게 주의하세요.'
    },
    '스탠딩 카프 레이즈 머신': {
        target: '비복근, 가자미근',
        instruction: '1. 머신에 서서 어깨 패드를 올립니다.\n2. 발 앞꿈치로 서서 뒤꿈치를 최대한 올립니다.\n3. 종아리를 조이며 잠시 유지합니다.\n4. 천천히 내립니다.',
        tips: '가동범위를 최대로 사용하세요.'
    },
    '덤벨 런지': {
        target: '대퇴사두근, 둔근, 햄스트링',
        instruction: '1. 덤벨을 양손에 들고 섭니다.\n2. 한 발을 앞으로 크게 내딛습니다.\n3. 뒷무릎이 바닥에 닿기 직전까지 내려갑니다.\n4. 앞발로 밀어 원위치로 돌아옵니다.',
        tips: '무릎이 발끝을 넘지 않게 주의하세요.'
    },
    '리버스 브이 스쿼트': {
        target: '대퇴사두근',
        instruction: '1. 머신에 서서 어깨 패드를 올립니다.\n2. 발을 앞쪽에 위치시킵니다.\n3. 무릎을 굽혀 앉습니다.\n4. 다리를 밀어 일어섭니다.',
        tips: '대퇴사두근에 집중할 수 있습니다.'
    },
    '덤벨 스쿼트': {
        target: '대퇴사두근, 둔근, 햄스트링',
        instruction: '1. 덤벨을 양손에 들고 섭니다.\n2. 발을 어깨너비로 벌립니다.\n3. 엉덩이를 뒤로 빼며 앉습니다.\n4. 허벅지가 바닥과 평행하면 일어섭니다.',
        tips: '허리를 곧게 유지하세요.'
    },
    '바벨 스쿼트': {
        target: '대퇴사두근, 둔근, 햄스트링, 코어',
        instruction: '1. 바벨을 어깨 뒤에 올립니다.\n2. 발을 어깨너비로 벌립니다.\n3. 엉덩이를 뒤로 빼며 앉습니다.\n4. 허벅지가 바닥과 평행하면 일어섭니다.',
        tips: '복압을 유지하고 무릎이 안쪽으로 모이지 않게 하세요.'
    },
    '힙 쓰러스트': {
        target: '대둔근',
        instruction: '1. 등을 벤치에 기대고 앉습니다.\n2. 바벨을 골반 위에 올립니다.\n3. 엉덩이를 위로 들어올립니다.\n4. 둔근을 조이며 잠시 유지합니다.',
        tips: '엉덩이 근육에만 집중하세요.'
    },
    '루마니안 데드리프트': {
        target: '햄스트링, 둔근',
        instruction: '1. 바벨을 허벅지 앞에 들고 섭니다.\n2. 무릎을 살짝 굽힌 상태로 유지합니다.\n3. 엉덩이를 뒤로 빼며 상체를 숙입니다.\n4. 햄스트링이 당기면 일어섭니다.',
        tips: '허리가 굽지 않게 주의하세요.'
    },

    // ===== 복근 운동 =====
    '크런치': {
        target: '복직근 상부',
        instruction: '1. 등을 대고 누워 무릎을 굽힙니다.\n2. 손을 머리 뒤에 가볍게 댑니다.\n3. 상체를 들어올려 복근을 수축합니다.\n4. 천천히 내려갑니다.',
        tips: '목에 힘이 들어가지 않게 주의하세요.'
    },
    '레그 레이즈': {
        target: '복직근 하부',
        instruction: '1. 등을 대고 누워 다리를 뻗습니다.\n2. 다리를 들어올려 수직이 되게 합니다.\n3. 복근으로 다리를 컨트롤합니다.\n4. 천천히 내립니다.',
        tips: '허리가 바닥에서 뜨지 않게 하세요.'
    },
    '행잉 레그 레이즈': {
        target: '복직근 하부',
        instruction: '1. 철봉에 매달립니다.\n2. 다리를 들어올립니다.\n3. 복근을 조이며 잠시 유지합니다.\n4. 천천히 내립니다.',
        tips: '반동을 사용하지 마세요.'
    },
    '러시안 트위스트': {
        target: '복사근',
        instruction: '1. 앉아서 상체를 뒤로 기울입니다.\n2. 웨이트를 양손에 들고 있습니다.\n3. 상체를 좌우로 회전합니다.\n4. 복사근을 조이며 운동합니다.',
        tips: '천천히 하며 복사근에 집중하세요.'
    },
    '플랭크': {
        target: '코어 전체',
        instruction: '1. 팔꿈치를 바닥에 대고 엎드립니다.\n2. 몸을 일자로 유지합니다.\n3. 복근과 둔근에 힘을 줍니다.\n4. 자세를 유지합니다.',
        tips: '엉덩이가 너무 올라가거나 내려가지 않게 하세요.'
    },
    '바이시클 크런치': {
        target: '복직근, 복사근',
        instruction: '1. 등을 대고 누워 다리를 들어올립니다.\n2. 자전거 페달 밟듯이 다리를 움직입니다.\n3. 반대 팔꿈치와 무릎을 번갈아 맞닿게 합니다.\n4. 복근을 조이며 운동합니다.',
        tips: '목에 힘이 들어가지 않게 주의하세요.'
    },

    // ===== 유산소 =====
    '5km 러닝': {
        target: '심폐 지구력, 하체',
        instruction: '1. 편안한 페이스로 시작합니다.\n2. 호흡을 규칙적으로 유지합니다.\n3. 보폭과 팔 스윙을 일정하게 합니다.\n4. 5km를 완주합니다.',
        tips: '무리하지 말고 자신의 페이스를 유지하세요.'
    }
};

// 모달 HTML 추가
document.addEventListener('DOMContentLoaded', function () {
    const modalHTML = `
    <div class="exercise-modal" id="exerciseModal">
        <div class="modal-content">
            <button class="modal-close" id="modalClose">&times;</button>
            <h2 class="modal-title" id="modalTitle">운동 이름</h2>
            <div class="modal-target" id="modalTarget">자극 부위</div>
            <div class="modal-section">
                <h3>운동 방법</h3>
                <p class="modal-instruction" id="modalInstruction"></p>
            </div>
            <div class="modal-section">
                <h3>💡 팁</h3>
                <p class="modal-tips" id="modalTips"></p>
            </div>
            <div class="modal-footer">
                <button class="namu-btn" id="namuBtn">📖 나무위키에서 검색</button>
            </div>
        </div>
    </div>
    `;
    document.body.insertAdjacentHTML('beforeend', modalHTML);

    // 모달 닫기 이벤트
    document.getElementById('modalClose').addEventListener('click', closeExerciseModal);
    document.getElementById('exerciseModal').addEventListener('click', function (e) {
        if (e.target === this) closeExerciseModal();
    });
});

function openExerciseModal(exerciseName) {
    const modal = document.getElementById('exerciseModal');
    const info = EXERCISE_INSTRUCTIONS[exerciseName];

    if (!info) {
        alert('운동 설명이 준비 중입니다.');
        return;
    }

    document.getElementById('modalTitle').textContent = exerciseName;
    document.getElementById('modalTarget').textContent = '🎯 ' + info.target;
    document.getElementById('modalInstruction').textContent = info.instruction;
    document.getElementById('modalTips').textContent = info.tips;

    // 나무위키 버튼 설정
    const namuBtn = document.getElementById('namuBtn');
    namuBtn.onclick = () => {
        window.open(`https://namu.wiki/w/${encodeURIComponent(exerciseName)}`, '_blank');
    };

    modal.classList.add('show');
}

function closeExerciseModal() {
    document.getElementById('exerciseModal').classList.remove('show');
}
